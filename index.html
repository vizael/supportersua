<!DOCTYPE html>
<html>
<head>
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<title>Supporters UA</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawDeliveriesChart);

    function drawDeliveriesChart() {
      var queryString = encodeURIComponent('SELECT A, B, C, D LIMIT 100');
      var query = new google.visualization.Query(
          'https://docs.google.com/spreadsheets/d/1OzwjiMlKsctWfbvHj7QOLkEjVLJxkVvamzAsAqUXtrA/gviz/tq?gid=0&headers=1&tq=' + queryString);
      query.send(handleDeliveriesQueryResponse);
    }
    function handleDeliveriesQueryResponse(response) {
      if (response.isError()) {
        alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
        return;
      }
      var data = response.getDataTable();
      var chart = new google.visualization.ColumnChart(document.getElementById('deliveries_chart_div'));
      var options = {
          title: 'Tacmed delivery over time',
          height: 400,
          animation: {startup: true,
                     duration: 2000,
                     easing: 'out'}
        };
      chart.draw(data, options);
    }
        
    google.charts.setOnLoadCallback(drawDonationsChart);

    function drawDonationsChart() {
      var queryString = encodeURIComponent('SELECT A, B LIMIT 100');
      var query = new google.visualization.Query(
          'https://docs.google.com/spreadsheets/d/1OzwjiMlKsctWfbvHj7QOLkEjVLJxkVvamzAsAqUXtrA/gviz/tq?gid=694135870&headers=1&tq=' + queryString);
      query.send(handleDonationsQueryResponse);
    }
    function handleDonationsQueryResponse(response) {
      if (response.isError()) {
        alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
        return;
      }
      var data = response.getDataTable();
      var chart = new google.visualization.BarChart(document.getElementById('donations_chart_div'));
      var options = {
          title: 'Collected funds',
          height: 400,
          animation: {startup: true,
                     duration: 2000,
                     easing: 'out'}
        };
      chart.draw(data, options);
    }
    </script>  
</head>

<body>
<div id="deliveries_chart_div" style="width: 100%; height: 500px;"></div>
<div id="donations_chart_div" style="width: 100%; height: 500px;"></div>
</body>
</html>
